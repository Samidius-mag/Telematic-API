 # Инструкция для OS LINUX Ubuntu 20.04.5 LTS

### 1
## Открытие портов

    sudo ufw allow ssh
    sudo ufw allow 2222/tcp
    sudo ufw allow 80/tcp
    sudo ufw allow 443/tcp
    sudo ufw allow 3306

Применение параметров, соглашаемся.

    sudo ufw enable
Перезагрузка и проверка портов

    sudo reboot
--    

    sudo ufw status

### 2
## SSL-сертификат 
Сначала нужно получить SSL-сертификат. 
Вы можете использовать Let’s Encrypt для получения бесплатного сертификата, 
или же приобрести сертификат у коммерческого провайдера. 

Установите Certbot (это инструмент для получения сертификатов от Let’s Encrypt).
Убедитесь, что у вас есть установленный snapd и выполните следующие команды:

    sudo snap install core; sudo snap refresh core
    sudo snap install certbot --classic

Проверка DNS-записей: 
Убедитесь, что ваши DNS-записи настроены правильно. Вам нужно, чтобы для домена 
example.com существовали A-записи, которые указывают на IP-адрес вашего сервера. 
Это можно проверить через интерфейс управления DNS вашего провайдера или через 
команду dig в терминале:

    dig example.com
   
Получите сертификат: После установки Certbot выполните следующую команду, заменив 
example.com на ваш домен:

    sudo certbot certonly --standalone -d example.com -d www.example.com

### 3
## NODE JS 18.20.8
Установите nvm: В открытом терминале выполните следующую команду для загрузки и 
установки nvm. Это позволит вам устанавливать любую версию Node.js.

    curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.5/install.sh | bash
   
После выполнения команды вам может понадобиться перезапустить терминал или выполнить команды:

    export NVM_DIR="$HOME/.nvm"
    [ -s "$NVM_DIR/nvm.sh" ] && \. "$NVM_DIR/nvm.sh" 
   
Убедитесь, что nvm установлен правильно, выполнив:

    nvm --version
    
Установите нужную версию Node.js с помощью следующей команды:

    nvm install 18.20.8

### 4
## GIT
Во-первых, убедитесь, что Git уже установлен на вашем компьютере. Для этого выполните команду:

    git --version

Если Git установлен, вы увидите его версию. Если же он не установлен, его можно установить,
используя пакетный менеджер вашей системы. В большинстве дистрибутивов Linux это можно сделать с помощью следующей команды:

    sudo apt-get install git

После того как вы убедитесь, что Git установлен, вы можете клонировать репозиторий. 
Для этого вам понадобится URL-адрес репозитория, который вы хотите скопировать. 
Например, это может быть что-то вроде https://github.com/username/repository.git.
Теперь вы можете использовать команду git clone, следующую за URL адресом репозитория. Сделайте это так:

    git clone https://github.com/Samidius-mag/Telematic-API

### 5
## MySQL
Сначала обновите список пакетов:

    sudo apt-get update
Теперь установите MySQL. Используйте следующую команду:

    sudo apt-get install mysql-server
Во время установки вам будет предложено настроить пароль для пользователя root MySQL. 
Введите его и запомните, так как он потребуется вам для доступа к базе данных.

После установки MySQL запустите службу, чтобы убедиться, что она работает:
   sudo systemctl start mysql
Проверьте статус службы, чтобы убедиться, что все запущено корректно:
   sudo systemctl status mysql
Чтобы выполнить дополнительные настройки безопасности MySQL, выполните следующий скрипт:
   sudo mysql_secure_installation
Этот скрипт поможет вам установить параметры безопасности, такие как удаление анонимных пользователей, запрет на удаленный доступ к пользователю root и другие.

После этого вы можете подключиться к MySQL, используя следующую команду:
   mysql -u root -p
Введите пароль, который вы настроили ранее.

Теперь MySQL установлен и настроен на вашем сервере. Вы можете начать создавать базы данных и работать с интерактивной командной строкой MySQL.
Конфигурация MySQL: Загляните в файл конфигурации MySQL (обычно это /etc/mysql/my.cnf или /etc/mysql/mysql.conf.d/mysqld.cnf) и убедитесь, что параметр bind-address настроен на 0.0.0.0 или на IP-адрес сервера, что позволит принимать подключения извне. Если он установлен на 127.0.0.1, MySQL будет принимать соединения только с локального хоста. Измените строчку:
   bind-address = 0.0.0.0
После внесения изменений перезапустите MySQL:

   sudo systemctl restart mysql


mysql -u root -p
Если вы хотите, чтобы пользователь мог подключаться с любого хоста, используйте % вместо localhost:

CREATE USER 'newuser'@'%' IDENTIFIED BY 'password123';

Например, если вы хотите дать пользователю newuser все права на базу данных exampledb, выполните следующее:

GRANT ALL PRIVILEGES ON exampledb.* TO 'newuser'@'%';
Не забудьте также применить изменения с помощью команды:

FLUSH PRIVILEGES;
